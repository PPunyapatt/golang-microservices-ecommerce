syntax = "proto3";

package Inventory.v1;

option go_package = "./Inventory";


message pagination {
    int32 page = 1; // Current page number
    int32 limit = 2;
    int32 offset = 3;
    optional int32 total = 4;
}

message search {
    optional string query = 1; // Search query
    optional int32 categoryID = 2; // Filter by category ID
    optional int32 storeID = 3; // Filter by store ID
}

// -- Inventory --

message Inventory {
    optional int32 StoreID = 1;
    optional string AddBy = 2;
    optional string Name = 3;
    optional string Description = 4;
    optional string ImageURL = 5;
    optional double Price = 6;
    optional int32 Stock = 7;
    optional int32 CategoryID = 8;
    optional int32 ID = 9;
}

message AddInvenRequest {
    Inventory Inventory = 1;
}

message AddInvenResponse {
    string status = 1;
}

message UpdateInvenRequest {
    string InvetoriesID = 1;
    Inventory Inventory = 2;
}

message UpdateInvenResponse {
    string status = 1;
}

message RemoveInvenRequest {
    int32 InvetoriesID = 1;
    int32 StoreID = 2;
    string UserID = 3; // Optional, if you want to check user permissions
}

message RemoveInvenResponse {
    string status = 1;
}

message GetInvetoryRequest {
    int32 InvetoriesID = 1;
}

message GetInvetoryResponse {
     Inventory Inventory = 1;
}

message ListInvetoriesRequest {
    search Fields = 1;
    pagination Pagination = 2;
}

message ListInvetoriesResponse {
    repeated Inventory Inventory = 1;
    pagination Pagination = 2;
}



// -- Category --

message Category {
    int32 CategoryID = 1;
    string Name = 2;
    int32 StoreID = 3;
}

message AddCategoryRequest {
    string Name = 1;
}

message AddCategoryResponse {
    string status = 1;
}

message UpdateCategoryRequest {
    string Name = 1;
    int32 CategoryID = 2;
    int32 StoreID = 3;
}

message UpdateCategoryResponse {
    string status = 1;
}

message RemoveCatgoryRequest {
    int32 CategoryID = 1;
}

message RemoveCatgoryResponse {
    string status = 1;
}

 message ListCategoriesRequest {
    int32 StoreID = 1;
    search fields = 2;
    pagination Pagination = 3;
 }

 message ListCategoriesResponse {
    repeated Category Catagories = 1;
    pagination Pagination = 2;
 }


service InventoryService {
    rpc AddInventory(AddInvenRequest) returns (AddInvenResponse);
    rpc UpdateInventory(UpdateInvenRequest) returns (UpdateInvenResponse);
    rpc RemoveInventory(RemoveInvenRequest) returns (RemoveInvenResponse);
    rpc GetInventory(GetInvetoryRequest) returns (GetInvetoryResponse);
    rpc ListInventories(ListInvetoriesRequest) returns (ListInvetoriesResponse);

    rpc AddCategory(AddCategoryRequest) returns (AddCategoryResponse);
    rpc UpdateCategory(UpdateCategoryRequest) returns (UpdateCategoryResponse);
    rpc RemoveCatgory(RemoveCatgoryRequest) returns (RemoveCatgoryResponse);
    rpc ListCategories(ListCategoriesRequest) returns (ListCategoriesResponse);
}