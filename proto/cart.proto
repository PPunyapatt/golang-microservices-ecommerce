syntax = "proto3";

package cart.v1;

option go_package = "./cart";

message pagination {
    int32 page = 1; // Current page number
    int32 limit = 2;
    int32 offset = 3;
    optional int32 total = 4;
}

// Cart item message
message CartItem {
    int32 product_id = 1;
    string product_name = 2;
    int32 quantity = 3;
    double price = 4;
    string image_url = 5;
}

message StoreItems {
    int32 storeID = 1;
    repeated CartItem items = 2;
}

// Cart message
message Cart {
    string user_id = 1;
    repeated StoreItems items = 2;
}

// Add item to cart request
message AddItemRequest {
    string user_id = 1;
    repeated StoreItems StoreItems = 2; 
}

// Add item to cart response
message AddToCartResponse {
    string status = 1; // e.g., "success" or "error"
}

// Remove item from cart request
message RemoveFromCartRequest {
    string user_id = 1;
    int32 item_id = 3;
}

// Remove item from cart response
message RemoveFromCartResponse {
    string status = 1; // e.g., "success" or "error"
}

// Get cart request
message GetCartRequest {
    string user_id = 1;
    pagination pagination = 2; // Optional pagination parameters
}

// Get cart response
message GetCartResponse {
    repeated StoreItems StoreItems = 1;
    pagination pagination = 2; // Optional pagination parameters
}

// Cart service definition
service CartService {
    rpc AddItemToCart(AddItemRequest) returns (AddToCartResponse);
    rpc RemoveItem(RemoveFromCartRequest) returns (RemoveFromCartResponse);
    rpc GetCartByUserID(GetCartRequest) returns (GetCartResponse);
}